{% extends "layout.html" %}
{% block header %}

{% endblock %}

{% block content %}

<section class="text-gray-600 body-font h-[100%]">
    <div class="px-5 h-[100%]">
        <div class="lg:w-7/8 mx-auto h-[100%]">
            <!-- <div class="rounded-lg h-64 overflow-hidden">
                <img alt="content" class="object-cover object-center h-full w-full"
                    src="https://dummyimage.com/1200x500">
            </div> -->
            <div class="flex flex-col sm:flex-row mt-10 h-[100%]">
                <div class="sm:w-1/3 text-center sm:pr-8 sm:py-8">
                    <div class="flex flex-col items-center text-left justify-center">
                        <div class="card w-96 bg-base-200 text-base-content shadow-md rounded-md">
                            <div class="card-body">
                                <h2 class="card-title font-bold">Related ICD-11 Code</h2>
                                <div id="icd-retrieval-results">
                                    Once you start chatting with Dr. Chad, the matching ICD-11 code definition will
                                    appear here.
                                </div>
                            </div>
                        </div>

                        <div class="card w-96 bg-base-200 text-base-content shadow-md my-5 rounded-md">
                            <div class="card-body p-0">
                                <div id="icd-retrieval-results h-min-content">
                                    <div tabindex="0" class="collapse collapse-arrow bg-base-200">
                                        <div class="collapse-title">
                                            <h2 class="card-title font-bold">Help</h2>
                                        </div>
                                        <div class="collapse-content">
                                          <p>
                                            Dr. Chad is a chatbot that can help you find the right ICD-11 code for your
                                    diagnosis.
                                    It is based on a language model that was trained on the ICD-11 code definitions.
                                    The
                                    model was trained on the ICD-11 code definitions and can therefore only provide
                                    you
                                    with
                                    the matching ICD-11 code definition. It is not a replacement for a medical
                                    professional.
                                    Please consider checking important information and seek professional medical
                                    consultation.
                                          </p>
                                        </div>
                                      </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div
                    class="sm:w-2/3 sm:pl-8 sm:py-8 sm:border-l border-gray-200 sm:border-t-0 border-t mt-4 pt-4 sm:mt-0 text-center sm:text-left h-[100%]">

                    <div class="mx-auto h-[100%]">
                        <div class="grid grid-cols-1 place-content-end contend-end h-[100%]">
                            <div class="doc-chat overflow-auto" id="{{chat_id}}">
                                <!-- CHAT HIStORY -->
                            </div>

                            <div class="">
                                <div
                                    class="flex justify-items justify-center w-full border-solid border-2 border-gray-600 rounded-md">
                                    <form method="post" class="w-full">
                                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
                                        <!-- Rest of your form -->
                                        <textarea class="textarea w-full textarea-md w-full border-none outline-0"
                                            placeholder="Message Dr. Chad..." rows="1" contenteditable
                                            onkeydown="autoScaleTextArea(this);" id="newMSG"></textarea>
                                    </form>
                                    <button id="sendMSG" class="mr-3">
                                        <span
                                            class="material-symbols-outlined flex mx-auto justify-items-center items-center content-center text-4xl">
                                            send
                                        </span>
                                    </button>
                                </div>

                                <div class="content-center text-xs gray-300 items-center py-2">
                                    Answers are generated by a language model, it can make mistakes. Consider
                                    checking
                                    important
                                    information and seek professional medical consultation.
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>

<!-- add static/js/chat.js -->
<script src="{{ url_for('static', filename='js/chat.js') }}"> </script>
{% endblock %}